{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anoma\\\\OneDrive\\\\desktop\\\\GeekidsPlus\\\\frontend\\\\src\\\\App.js\";\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from 'axios';\nimport { Navbar } from './components/Navbar';\nimport Game from './Game';\nimport adminPanel from './components/AdminPanel';\nimport AddCard from './components/AddCard';\nimport EditCard from './components/EditCard';\nimport { Landing } from './components/Landing';\nimport Register from './components/Register';\nimport Login from './components/Login';\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    axios.defaults.withCredentials = true;\n    this.state = {\n      loggedIn: false,\n      username: null,\n      admin: false,\n      overlay: false\n    };\n    this.getUser = this.getUser.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.setOverlayHandler = this.setOverlayHandler.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  updateUser(userObject) {\n    this.setState(userObject);\n  }\n\n  handleLogout() {\n    if (!this.state.username && !this.state.loggedIn) {\n      return window.location = \"/login\";\n    } else {\n      axios.post('http://localhost:3000/user/logout').then(() => {\n        console.log(\"log out complete\");\n        window.location = \"/\";\n      });\n    }\n  }\n\n  getUser() {\n    axios.get('http://localhost:3000/user/').then(response => {\n      console.log('Get user response: ');\n      console.log(response.data);\n\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ');\n        console.log(response.data.user);\n        console.log(\"Admin or not \" + response.data.admin);\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username,\n          admin: response.data.admin\n        });\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null,\n          admin: false\n        });\n      }\n    });\n  }\n\n  setOverlayHandler() {\n    this.setState({\n      overlay: this.state.overlay\n    });\n  }\n\n  render() {\n    const styles = {\n      overlay: {\n        width: \"100%\",\n        height: \"calc(100vh - 30px)\",\n        background: \"rgba(0, 0, 0, 0.8)\"\n      }\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      loggedIn: this.state.loggedIn,\n      admin: this.state.admin,\n      username: this.state.username,\n      handleLogout: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.overlay ? styles.overlay : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      admin: this.state.admin,\n      updateUser: this.updateUser,\n      exact: true,\n      component: Landing,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      admin: this.state.admin,\n      exact: true,\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        updateUser: this.updateUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 50\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/phonics\",\n      setOverlayHandler: this.setOverlayHandler,\n      exact: true,\n      component: Game,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/admin\",\n      admin: this.state.admin,\n      updateUser: this.updateUser,\n      component: adminPanel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/anoma/OneDrive/desktop/GeekidsPlus/frontend/src/App.js"],"names":["React","Route","axios","Navbar","Game","adminPanel","AddCard","EditCard","Landing","Register","Login","App","Component","constructor","defaults","withCredentials","state","loggedIn","username","admin","overlay","getUser","bind","componentDidMount","updateUser","handleLogout","setOverlayHandler","userObject","setState","window","location","post","then","console","log","get","response","data","user","render","styles","width","height","background"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from 'axios'\n\nimport { Navbar } from './components/Navbar';\nimport Game from './Game'\nimport adminPanel from './components/AdminPanel';\nimport AddCard from './components/AddCard';\nimport EditCard from './components/EditCard'\nimport { Landing } from './components/Landing'\nimport Register from './components/Register'\nimport Login from './components/Login'\nexport default class App extends React.Component {\n  constructor(){\n    super()\n    axios.defaults.withCredentials = true;\n    \n    this.state = {loggedIn: false, username: null, admin: false, overlay: false};\n    this.getUser = this.getUser.bind(this)\n    this.componentDidMount = this.componentDidMount.bind(this)\n    this.updateUser = this.updateUser.bind(this)\n    this.handleLogout = this.handleLogout.bind(this)\n    this.setOverlayHandler = this.setOverlayHandler.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUser()\n  }\n\n  updateUser (userObject) {\n    this.setState(userObject)\n  }\n \n  handleLogout () {\n    if(!this.state.username && !this.state.loggedIn){\n      return window.location = (\"/login\")\n    } else {\n      axios.post('http://localhost:3000/user/logout')\n      .then(()=>{\n        console.log(\"log out complete\")\n        window.location = \"/\"\n      })\n    } \n  }\n\n  getUser() {\n    axios.get('http://localhost:3000/user/').then(response => {\n      console.log('Get user response: ')\n      console.log(response.data)\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ')\n        console.log(response.data.user)\n        console.log(\"Admin or not \" + response.data.admin)\n\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username,\n          admin: response.data.admin\n\n        })\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null,\n          admin: false\n        })\n      }\n    })\n  }\n\n  setOverlayHandler() {\n    this.setState({overlay: this.state.overlay})\n  }\n  \n  \n  render() {\n    const styles = {\n    overlay: {\n      width: \"100%\",\n      height: \"calc(100vh - 30px)\",\n      background: \"rgba(0, 0, 0, 0.8)\"\n    }\n  }\n    return (\n      <div>\n        <Navbar loggedIn={this.state.loggedIn} admin={this.state.admin} username={this.state.username} handleLogout={this.handleLogout} />\n        <div style={ this.state.overlay ? styles.overlay : null}>\n        <Route path={\"/\"} admin={this.state.admin} updateUser={this.updateUser} exact component={Landing} />\n        <Route exact path={\"/register\"} admin={this.state.admin} exact component={Register} />\n        <Route exact path={\"/login\"} render={()=><Login updateUser={this.updateUser} />} />\n        <Route path={\"/phonics\"} setOverlayHandler={this.setOverlayHandler} exact component={Game} />\n        <Route path={\"/admin\"} admin={this.state.admin} updateUser={this.updateUser} component={adminPanel} />\n      </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}